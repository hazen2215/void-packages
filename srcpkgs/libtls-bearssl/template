# Template file for 'libtls-bearssl'
pkgname=libtls-bearssl
version=0.5.20220909
revision=1
_commit=28db202f76a6fc1bec6e0d58412e348b1a14fb37
build_style=gnu-makefile
make_use_env=yes
makedepends="bearssl-devel"
short_desc="Implementation of libtls on top of BearSSL"
maintainer="hazen2215 <haz@disroot.org>"
license="ISC"
homepage="https://sr.ht/~mcf/libtls-bearssl"
distfiles="https://git.sr.ht/~mcf/libtls-bearssl/archive/${_commit}.tar.gz"
checksum=bb0ab0d79b3d605a110ef89a1f927229b7babfea1eea0366695ef6d25fec2b8e
conflicts="libtls"
provides="libtls-0_1"

post_install() {
	vlicense LICENSE
}

libtls-bearssl-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}-${version}_${revision} bearssl-devel"
	conflicts="libtls-devel"
	provides="libtls-devel-0_1"
	pkg_install() {
		vmove usr/share/man/man3
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
	}
}

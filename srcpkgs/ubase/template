# Template file for 'ubase'
pkgname=ubase
version=0.1.20200605
revision=1
_commit=f152e7fc3bd1675060818ac224f96541a2d9d6e7
build_style=gnu-makefile
make_build_args="ctrlaltdel getty last mesg nologin pagesize respawn stty
 swaplabel swapoff swapon vtallow"
short_desc="Suckless collection of unportable base"
maintainer="hazen2215 <haz@disroot.org>"
license="MIT"
homepage="https://github.com/michaelforney/ubase"
distfiles="https://github.com/michaelforney/ubase/archive/${_commit}.tar.gz"
checksum=be319d03ee878a27969495043b15d955afb78efa3286531ee86d0d747a6522c4

conflicts="libhugetlbfs-tools" # pagesize

build_options="static"
LDFLAGS="$(vopt_if static -static)"

do_install() {
	for f in ${make_build_args}; do
		vbin ${f}
		if [ -f ${f}.1 ]; then
			vman ${f}.1
		elif [ -f ${f}.8 ]; then
			vman ${f}.8
		fi
	done
	vlicense LICENSE
}

# Template file for 'LuaFormatter'
pkgname=LuaFormatter
version=1.3.6
revision=1
_antlr4_commit=be58ebffde8e29c154192c019608f0a5b8e6a064
_args_commit=78e27faf75ff7d20f232f11ffcef65cde43c449d
_yaml_cpp_commit=9a3624205e8774953ef18f57067b3426c1c5ada6
_Catch2_commit=e1c9d5569dc4135babb9c81891d70a8ba8ed938c
create_wrksrc=yes
build_wrksrc="LuaFormatter-${version}"
build_style=cmake
short_desc="Code formatter for Lua"
maintainer="hazen2215 <haz@disroot.org>"
license="GPL-3.0-or-later"
homepage="https://github.com/Koihik/LuaFormatter"
distfiles="https://github.com/Koihik/LuaFormatter/archive/${version}.tar.gz
 https://github.com/antlr/antlr4/archive/${_antlr4_commit}.tar.gz
 https://github.com/Taywee/args/archive/${_args_commit}.tar.gz
 https://github.com/jbeder/yaml-cpp/archive/${_yaml_cpp_commit}.tar.gz
 https://github.com/catchorg/Catch2/archive/${_Catch2_commit}.tar.gz"
checksum="57dff41282f2e039f7f323511f2c9c238a174f2772fba567bb083bc3ed9230da
 9de4838137cce66556b184ad01472b51aa2abc39b0d51a86b62e2236d165a0aa
 da43c0416f8ac74ab0e1d51ffae920278945c97c74b905c67c45e1747e1e2150
 e39f54bd2927692603378e373009e56b4891701cee8af7c27370c36978a43ffa
 f500d749cde23bd33c6024a5632022b5e46f8b51e3f2d43c8e051e0aa8b11eb3"

post_extract() {
	for d in antlr4 args yaml-cpp Catch2; do
		rmdir ${build_wrksrc}/third_party/$d
	done
	mv antlr4-${_antlr4_commit} ${build_wrksrc}/third_party/antlr4
	mv args-${_args_commit} ${build_wrksrc}/third_party/args
	mv yaml-cpp-${_yaml_cpp_commit} ${build_wrksrc}/third_party/yaml-cpp
	mv Catch2-${_Catch2_commit} ${build_wrksrc}/third_party/Catch2
}
